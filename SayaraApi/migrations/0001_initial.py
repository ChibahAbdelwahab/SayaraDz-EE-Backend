# Generated by Django 2.1.7 on 2019-09-15 17:05

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Annonce',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('titre', models.CharField(max_length=50)),
                ('prix', models.IntegerField()),
                ('commentaires', models.CharField(max_length=255)),
                ('user', models.ForeignKey(on_delete='DO_NOTHING', related_name='proprietaire', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Commande',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('confirmation', models.BooleanField(default=False)),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Couleur',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('code', models.CharField(max_length=3)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Fabricant',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=255)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='FicheTechnique',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nombrePortes', models.IntegerField()),
                ('boiteVitesse', models.CharField(max_length=100)),
                ('puissanceFiscale', models.CharField(max_length=100)),
                ('motorisation', models.CharField(max_length=100)),
                ('consommation', models.CharField(max_length=100)),
                ('dimensions', models.CharField(max_length=100)),
                ('transmission', models.CharField(max_length=100)),
                ('capaciteReservoir', models.CharField(max_length=100)),
                ('vitesseMaxi', models.IntegerField()),
                ('acceleration', models.CharField(max_length=100)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Image',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('image', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='LigneTarif',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('dateDebut', models.DateField()),
                ('dateFin', models.DateField()),
                ('prix', models.FloatField()),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Marque',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=50)),
                ('image', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='marque/images/')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Modele',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('code', models.CharField(max_length=10)),
                ('image', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Offre',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('prix', models.IntegerField()),
                ('annonce', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='SayaraApi.Annonce')),
                ('user', models.ForeignKey(on_delete='DO_NOTHING', related_name='offrant', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Option',
            fields=[
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('code', models.CharField(max_length=100, primary_key=True, serialize=False)),
                ('modele', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Modele')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Profile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('is_fabricant', models.BooleanField(default=False)),
                ('is_client', models.BooleanField(default=False)),
                ('fabricant', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='fabricant', to='SayaraApi.Fabricant')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='RefCouleur',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=50, unique=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='RefModele',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=255, unique=True)),
                ('marque', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Marque')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='RefOption',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=255, unique=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='RefVersion',
            fields=[
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('nom', models.CharField(max_length=255, primary_key=True, serialize=False, unique=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='TarifCouleur',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('debut', models.DateField()),
                ('fin', models.DateField()),
                ('prix', models.FloatField()),
                ('base', models.BooleanField(default=False)),
                ('couleur', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Couleur')),
            ],
            options={
                'ordering': ('-fin', 'couleur'),
            },
        ),
        migrations.CreateModel(
            name='TarifOption',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('debut', models.DateField()),
                ('fin', models.DateField()),
                ('prix', models.FloatField()),
                ('base', models.BooleanField(default=False)),
                ('option', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignetarifs', to='SayaraApi.Option')),
            ],
            options={
                'ordering': ('-fin',),
            },
        ),
        migrations.CreateModel(
            name='TarifVersion',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('debut', models.DateField()),
                ('fin', models.DateField()),
                ('prix', models.FloatField()),
                ('base', models.BooleanField(default=False)),
            ],
            options={
                'ordering': ('-fin', 'version'),
            },
        ),
        migrations.CreateModel(
            name='VehiculeNeuf',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('num', models.CharField(max_length=100)),
                ('disponible', models.BooleanField()),
                ('reserve', models.BooleanField()),
                ('concessionnaire', models.CharField(max_length=250)),
                ('couleur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Couleur')),
                ('options', models.ManyToManyField(blank=True, to='SayaraApi.Option')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='VehiculeOccasion',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('kilometrage', models.IntegerField()),
                ('date', models.DateField()),
                ('image1', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('image2', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('image3', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('couleur', models.CharField(max_length=100)),
                ('modele', models.ForeignKey(on_delete='DO_NOTHING', related_name='RefModele', to='SayaraApi.RefModele')),
                ('options', models.ManyToManyField(blank=True, to='SayaraApi.RefOption')),
                ('version', models.ForeignKey(on_delete='DO_NOTHING', related_name='Refversion', to='SayaraApi.RefVersion')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Version',
            fields=[
                ('date_created', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_modified', models.DateTimeField(default=django.utils.timezone.now)),
                ('date_removed', models.DateTimeField(blank=True, null=True)),
                ('code', models.CharField(max_length=20, primary_key=True, serialize=False)),
                ('prix_base', models.IntegerField()),
                ('image1', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('image2', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('image3', models.ImageField(default='images/vehicules/voiture.jpg', upload_to='images/vehicules')),
                ('couleur', models.ManyToManyField(to='SayaraApi.Couleur')),
                ('ficheTechnique', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.FicheTechnique')),
                ('modele', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Modele')),
                ('options', models.ManyToManyField(blank=True, to='SayaraApi.Option')),
                ('ref', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.RefVersion')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='vehiculeneuf',
            name='version',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Version'),
        ),
        migrations.AddField(
            model_name='tarifversion',
            name='version',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignetarifs', to='SayaraApi.Version'),
        ),
        migrations.AddField(
            model_name='option',
            name='ref',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.RefOption'),
        ),
        migrations.AddField(
            model_name='modele',
            name='ref',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='modele', to='SayaraApi.RefModele'),
        ),
        migrations.AddField(
            model_name='fabricant',
            name='marque',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fabricants', to='SayaraApi.Marque'),
        ),
        migrations.AddField(
            model_name='couleur',
            name='modele',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.Modele'),
        ),
        migrations.AddField(
            model_name='couleur',
            name='ref',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.RefCouleur'),
        ),
        migrations.AddField(
            model_name='commande',
            name='couleur',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='SayaraApi.Couleur'),
        ),
        migrations.AddField(
            model_name='commande',
            name='options',
            field=models.ManyToManyField(to='SayaraApi.Option'),
        ),
        migrations.AddField(
            model_name='commande',
            name='vehicule',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='SayaraApi.VehiculeNeuf'),
        ),
        migrations.AddField(
            model_name='commande',
            name='version',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='SayaraApi.Version'),
        ),
        migrations.AddField(
            model_name='annonce',
            name='vehicule',
            field=models.ForeignKey(on_delete='DO_NOTHING', to='SayaraApi.VehiculeOccasion'),
        ),
    ]
